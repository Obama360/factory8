pico-8 cartridge // http://www.pico-8.com
version 41
__lua__
// main file //

--cursor sprite update function
function update_crs()
	if time() > crs_tmg+0.4 then
		crs_tmg=time()
		if crs_frm == 4 then
		crs_frm=1
		else
		crs_frm=crs_frm+1
		end
	end
end

print()

--sprite keyframe update function
function update_kfm()
	if time() > spc_kcs+spc_kus then
		spc_kcs=time()
		if spc_kfm == spc_mkf then
			spc_kfm = 0
		else
			spc_kfm = spc_kfm + 1
		end
	end
end

--space table draw function
function draw_spc()
	for tle,tsp in pairs(spc) do
		spr(tsp+spc_kfm,tle[1],tle[2])
	end
end

function _update()
	update_crs()
	update_kfm()
	
	--cursor cooldown countdown
	if crs_ccd > 0 then crs_ccd = crs_ccd - 1 end
	
	if btn(‚¨ÜÔ∏è) and crs_y>16 and crs_ccd == 0 then
		crs_y = crs_y - 8
		crs_ccd = crs_cdn
	end
	
	if btn(‚¨áÔ∏è) and crs_y<120 and crs_ccd == 0 then
		crs_y = crs_y + 8
		crs_ccd = crs_cdn
	end
	
	if btn(‚û°Ô∏è) and crs_x<120 and crs_ccd == 0 then
		crs_x = crs_x + 8
		crs_ccd = crs_cdn
	end
	
	if btn(‚¨ÖÔ∏è) and crs_x>0 and crs_ccd == 0 then
		crs_x = crs_x - 8
		crs_ccd = crs_cdn
	end
	
	if btn(‚ùé) then
		pnt={crs_x, crs_y}
		if itm[itm_slt] == 128 then
			spc[pnt] = nil
		else
			spc[pnt] = itm[itm_slt]
		end
	end
	
	if btn(üÖæÔ∏è) and crs_ccd == 0 then
		crs_ccd = crs_cdn
		if itm_slt == #itm then
			itm_slt = 1
		else
			itm_slt = itm_slt + 1	
		end
	end
end

function _draw()
	cls()
	map(0,0)
	spr(itm[itm_slt]+spc_kfm,4,4)
	draw_spc()
	spr(crs_frm, crs_x, crs_y)
end
-->8
// init file //

-- cursor config
crs_frm = 1
crs_tmg=time()
crs_x, crs_y = 64, 64
crs_ccd = 0
crs_cdn = 3

-- space table config
spc={}
spc_kus = 0.2 --keyframe update speed
spc_kcs = 0			--keyframe current state
spc_kfm = 0			--current keyframe
spc_mkf = 3			--max keyframes

-- items
itm_slt = 1 	--selected item
itm_dft = 64 --default tile

itm = {
	128, --delete
	132, --belt straight right
	136, --belt straight left	
}
__gfx__
00000000a909a09a9a909a0909a909a0a09a909a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000900000090000000aa0000009900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070000000000a00000099000000a000000090000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000a000000990000000000000099000000a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000770009000000a0000000990000000a00000090000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000009000000aa0000009900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000090000009a00000009000000a000000090000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000a90a909a90a909a90a909a90a909a90a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000005000000000000000000000000444444449444444494444444444444444444444944444449444444440000000000000000000000000000000000000000
00000005000000000000000000000000444444449444444494444444444444444444444944444449444444440000000000000000000000000000000000000000
00000005000000000000000000000000444444449444444494444444444444444444444944444449444444440000000000000000000000000000000000000000
00000005000000000000000000000000444444449444444494444444444444444444444944444449444444440000000000000000000000000000000000000000
00000005000000000000000000000000444444449444444494444444444444444444444944444449444444440000000000000000000000000000000000000000
00000005000000000000000000000000444444449444444494444444444444444444444944444449444444440000000000000000000000000000000000000000
00000005000000000000000000000000444444449444444409444444444444444444449544444449444444440000000000000000000000000000000000000000
55555555000000000000000000000000444444449444444455999999999999999999995544444449444444440000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000800000080000000000000000777777777777777777777777777777777777777777777777777777777777777700000000000000000000000000000000
08000080080000800800008000000000d666d6666d666d6666d666d6666d666d666d666d66d666d66d666d66d666d66600000000000000000000000000000000
00800800008008000080080000800800d666d6666d666d6666d666d6666d666d666d666d66d666d66d666d66d666d66600000000000000000000000000000000
00088000000880000008800000088000d666d6666d666d6666d666d6666d666d666d666d66d666d66d666d66d666d66600000000000000000000000000000000
00088000000880000008800000088000d666d6666d666d6666d666d6666d666d666d666d66d666d66d666d66d666d66600000000000000000000000000000000
00800800008008000080080000800800d666d6666d666d6666d666d6666d666d666d666d66d666d66d666d66d666d66600000000000000000000000000000000
08000080080000800800008000000000d666d6666d666d6666d666d6666d666d666d666d66d666d66d666d66d666d66600000000000000000000000000000000
00000000800000080000000000000000777777777777777777777777777777777777777777777777777777777777777700000000000000000000000000000000
__map__
4544444444444444444444444444444940404040404040404040404040404040404040404040404040404040404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4647474747474747474747474747474840404040404040404040404040404040404040404040404040404040404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
0001000000050000500005000050000500205004050080500d05013050200502d0502f0503005007050070500705006050060500505005050040500605006050070500a0501005016050190501d050260502f050
